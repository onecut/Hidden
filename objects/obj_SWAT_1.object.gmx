<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_SWAT_1_RIEN</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>par_enemy</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>vsp = 0;
hsp = 0;
grav = 0.3;
grounded = 0;
hp = 150;
last_dir = 0;
can_shoot = true;
ladder = false ;
Attacking=0;


friction = 0.5;
image_speed = 0.25;


//controll map
gp_A=gp_face1;
gp_B=gp_face2;
gp_X=gp_face3;
gp_Y=gp_face4;
gp_Rbumper=gp_shoulderr;
gp_Lbumper=gp_shoulderl;
gp_Rtrig=gp_shoulderrb;
gp_Ltrig=gp_shoulderlb;
gp_Dpad_R=gp_padr;
gp_Dpad_L=gp_padl;
gp_Dpad_U=gp_padu;
gp_Dpad_D=gp_padd;
gp_Select=gp_select;
gp_Start=gp_start;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>can_sprint=true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>can_shoot=true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
//status
if (hp&lt;=0) instance_destroy();

//inputs

Key_Left = gamepad_axis_value(1,gp_axislh)&lt;-0.8;
Key_Right = gamepad_axis_value(1,gp_axislh)&gt;0.8;
Key_Jump = gamepad_button_check_pressed (1,gp_A);
Key_Attack = gamepad_button_check_pressed (1,gp_B);
Key_Up = gamepad_axis_value(1,gp_axislv)&lt;-0.8;
Key_Down = gamepad_axis_value(1,gp_axislv)&gt;0.8;
Key_Sprint = gamepad_button_check (1,gp_X);


vsp += grav;



//bouger gauche ou droite
if !(Key_Sprint)
if (Key_Left)
    {
    hsp = -1.7;
    image_xscale = -1;
    last_dir = 180;
    }

if !(Key_Sprint)
if (Key_Right)
    {
    hsp = 1.7;
    image_xscale = 1;
    last_dir = 0;
    }

if (Key_Sprint)
{
if (Key_Left)
if hsp&gt;=-3
    {
    hsp-=0.1;
    image_xscale = -1;
    last_dir = 180;
    }
}

if (Key_Sprint)
{
if (Key_Right)
if hsp&lt;=3
    {
    hsp +=0.1;
    image_xscale = 1;
    last_dir = 0;
    }
}


if (Key_Up)
{
last_dir = 90;
}



//neutral input = 0 movement
if ((Key_Right &amp;&amp; Key_Left) or (!Key_Right &amp;&amp; !Key_Left))
{
hsp = 0;
}

//Attaque


if (Key_Attack) and can_shoot=true
{
sound_play(snd_pistol_shot);
var aa;
aa=instance_create (x,y-16,obj_bullet);
aa.direction=last_dir;
aa.speed=20;
can_shoot=false;
alarm[0]=18;
exit;
}



//Jumping
if (Key_Jump)
{
if (grounded) vsp = -5;
}

vsp += grav;






//ladder
if (Key_Up || Key_Down)
{
    if place_meeting(x,y,par_ladder) ladder = true;
}
if (ladder)
{
    vsp=0
    if (Key_Up) vsp=-2;
    if (Key_Down) vsp=2;
    if !place_meeting(x,y,par_ladder) ladder=false;
    if (Key_Jump) ladder=false;

}



//Collision Verticale
if place_meeting(x,y+vsp,par_wall)
{
while (!place_meeting(x,y+sign(vsp),par_wall)) y +=sign(vsp);
if (sign(vsp) == 1) grounded = 1;
vsp = 0;

}
else
{
grounded = 0;
}

//Collision horizontale
if place_meeting(x+hsp,y,par_wall)
{
while (!place_meeting(x+sign(hsp),y,par_wall)) x+=sign(hsp);
hsp = 0;
}

//Comit to movement
x += hsp;
y += vsp;

//animations
if (grounded)
{

if (hsp==0)
    {
sprite_index = spr_SWAT_1_RIEN;
    }
else
    {
        if (sprite_index!=spr_SWAT_1_MARCHE) image_index=0;
            sprite_index=spr_SWAT_1_MARCHE;

    }
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>331</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_restart_game</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,32</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
